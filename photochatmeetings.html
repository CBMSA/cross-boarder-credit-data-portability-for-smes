
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SadiPay â€” Social Â· Pay Â· Market Â· Trade</title>

<!-- Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<!-- Supabase -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- MediaPipe -->
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation/selfie_segmentation.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>

<style>
:root {
  --bg:#f5f6f8;
  --card:#ffffff;
  --text:#111827;
  --muted:#6b7280;
  --accent:#0b5cff;
}
[data-theme="dark"] {
  --bg:#0b0e11;
  --card:#1e2329;
  --text:#eaecef;
  --muted:#848e9c;
  --accent:#f0b90b;
}
* { box-sizing:border-box; }
body {
  margin:0;
  font-family:Inter,system-ui;
  background:var(--bg);
  color:var(--text);
}
header {
  height:56px;
  background:var(--card);
  border-bottom:1px solid #e5e7eb;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 16px;
}
.logo {
  font-weight:700;
  display:flex;
  gap:8px;
  align-items:center;
}
.logo img { height:28px }
.app {
  display:flex;
  height:calc(100vh - 56px);
}
.sidebar {
  width:64px;
  background:var(--card);
  border-right:1px solid #e5e7eb;
  display:flex;
  flex-direction:column;
  align-items:center;
}
.sidebar button {
  background:none;
  border:none;
  font-size:20px;
  padding:12px;
  cursor:pointer;
  color:var(--muted);
}
.sidebar button:hover { color:var(--accent); }
main {
  flex:1;
  padding:16px;
  overflow:auto;
}
.page { display:none; }
.page.active { display:block; }

.card {
  background:var(--card);
  border-radius:12px;
  padding:16px;
  margin-bottom:12px;
}

.grid {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:12px;
}

button.primary {
  background:var(--accent);
  color:#fff;
  border:none;
  padding:10px 14px;
  border-radius:8px;
  cursor:pointer;
}
button.secondary {
  background:#e5e7eb;
  border:none;
  padding:8px 12px;
  border-radius:8px;
}

.chat-layout {
  display:grid;
  grid-template-columns:260px 1fr;
  height:70vh;
  border-radius:12px;
  overflow:hidden;
  background:var(--card);
}
.chat-list {
  border-right:1px solid #e5e7eb;
  padding:12px;
}
.chat-window {
  padding:12px;
  overflow:auto;
}
.feed-post img, canvas {
  width:100%;
  border-radius:10px;
  margin-top:8px;
}
footer {
  text-align:center;
  padding:12px;
  font-size:12px;
  color:var(--muted);
}
</style>
</head>

<body data-theme="light">

<header>
  <div class="logo">
    <img src="https://via.placeholder.com/100x28?text=SadiPay">
    SadiPay
  </div>
  <button onclick="toggleTheme()">ðŸŒ“</button>
</header>

<div class="app">
<aside class="sidebar">
  <button onclick="go('home')"><i class="bi bi-house"></i></button>
  <button onclick="go('chat')"><i class="bi bi-chat"></i></button>
  <button onclick="go('feed')"><i class="bi bi-images"></i></button>
  <button onclick="go('admin')"><i class="bi bi-shield-check"></i></button>
</aside>

<main>

<!-- HOME -->
<section id="home" class="page active">
  <div class="card">
    <h2>Welcome to SadiPay</h2>
    <p>Social-first financial platform. Observer & regulator ready.</p>
    <button class="primary" onclick="go('chat')">Open Chat</button>
  </div>
</section>

<!-- CHAT -->
<section id="chat" class="page">
  <h3>Chats</h3>
  <div class="chat-layout">
    <div class="chat-list">
      <div onclick="openChat('alice')">Alice</div>
      <div onclick="openChat('bob')">Bob</div>
    </div>
    <div class="chat-window" id="chatWindow">
      Select a contact
    </div>
  </div>
  <button class="primary" style="margin-top:10px" onclick="go('photochat')">
    ðŸ“¸ Open PhotoChat for this Chat
  </button>
</section>

<!-- SOCIAL FEED -->
<section id="feed" class="page">
  <h3>Social Feed</h3>
  <div id="socialFeed"></div>
</section>

<!-- PHOTOCHAT -->
<section id="photochat" class="page">

<div class="card">
  <h3>PhotoChat (Per Chat)</h3>
  <button class="secondary" onclick="go('chat')">â¬… Back</button>
</div>

<div class="card">
  <input type="file" id="mediaInput" accept="image/*">
  <canvas id="canvas"></canvas>
</div>

<div class="card">
  <button class="primary" onclick="postToFeed()">Post to Feed</button>
</div>

</section>

<!-- ADMIN -->
<section id="admin" class="page">
  <div class="card">
    <h3>Compliance Dashboard</h3>
    <ul>
      <li>Read-only users</li>
      <li>Chat logs</li>
      <li>PhotoChat content</li>
    </ul>
  </div>
</section>

</main>
</div>

<footer>Â© 2026 SadiCoin Tech</footer>

<script>
/* ROUTER */
function go(p){
  document.querySelectorAll('.page').forEach(x=>x.classList.remove('active'));
  document.getElementById(p).classList.add('active');
}

/* THEME */
function toggleTheme(){
  document.body.dataset.theme =
    document.body.dataset.theme==="dark"?"light":"dark";
}

/* CHAT */
let activeChat = null;
function openChat(name){
  activeChat = name;
  document.getElementById("chatWindow").innerText =
    "Chatting with " + name;
}

/* PHOTOCHAT BASIC */
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
document.getElementById("mediaInput").onchange = e=>{
  const img = new Image();
  img.src = URL.createObjectURL(e.target.files[0]);
  img.onload = ()=>{
    canvas.width = img.width;
    canvas.height = img.height;
    ctx.drawImage(img,0,0);
  };
};

/* POST TO FEED */
function postToFeed(){
  const feed = document.getElementById("socialFeed");
  const post = document.createElement("div");
  post.className="card feed-post";
  post.innerHTML = `
    <strong>${activeChat || "Anonymous"}</strong>
    <canvas width="${canvas.width}" height="${canvas.height}"></canvas>
  `;
  feed.prepend(post);
  post.querySelector("canvas").getContext("2d")
    .drawImage(canvas,0,0);
  go('feed');
}
</script>

</body>
</html>
